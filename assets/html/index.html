<!DOCTYPE html>
<head>
  <title>Übersicht</title>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" type="text/css" href="/css/simple-grid.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<html>
  <body>
    <h1>Wernigerode in Zahlen</h1>

    <p>
      Als Teil unserer Stadt und Gemeinde habe ich mich gefragt, wo wir eigentlich unser
			Geld investieren und nach einigem Suchen habe ich den <a href="https://www.wernigerode.de/B%C3%BCrgerservice/Stadtrat/Haushaltsplan/">Haushaltsplan</a>
			der Stadt gefunden. Der führt genau auf, wo Gelder gebraucht werden, ist aber alles andere als leicht zu lesen. Und so
			ist die Idee bei mir für diese Webseite entstanden. Es soll eine Darstellung des Finanzhaushalts Wernigerodes sein, die gut zu lesen und verstehen ist.
			<br><br>
			Alles startet mit der Gesamtübersicht. In 2023 planen wir
    </p>

    <h2 class="total-cashflow-income center">16.323.400,00€<sub style="font-size: 0.4em;">(A/B)</sub></h2>

    <p>
      einzunehmen. Die Gelder teilen sich auf <b>4 Fachbereiche</b> auf. Klicke auf einen in den Diagrammen um mehr zu erfahren.
    </p>

    
      <div class="container">
        <div class="row">
          <div class="col-6">
            <h5 class="center">Einnahmen: 36.189.200,00€<sub style="font-size: 0.4em;">(A/B)</sub></h5>
            <canvas id="chartjs-589ccae5-fdb6-428c-9472-4e5fbc173d08"></canvas>
          </div>
          <div class="col-6">
            <h5 class="center">Ausgaben: -19.865.800,00€<sub style="font-size: 0.4em;">(A/B)</sub></h5>
            <canvas id="chartjs-435f8cb5-74bb-4752-a4df-8578e82936d4"></canvas>
          </div>
        </div>
      </div>
    

    <div class="info-sheet">
      <table>
        <tbody>
          <tr>
            <th>Produkt</th>
            <th>Teilfinanzplan A</th>
            <th>Teilfinanzplan B</th>
          </tr>
          <tr>
            <th></th>
            <th>17.272.700,00€</th>
            <th>-949.300,00€</th>
          </tr>

          
            <tr>
              <td><a href="/3/department.html">Budget Betriebsbereiche</a></td>
              <td>-5.804.200,00€</td>
              <td>-230.300,00€</td>
            </tr>
          
            <tr>
              <td><a href="/4/department.html">Budget Bürgerservice</a></td>
              <td>-5.540.400,00€</td>
              <td>-1.627.900,00€</td>
            </tr>
          
            <tr>
              <td><a href="/2/department.html">Budget Finanzen</a></td>
              <td>34.789.300,00€</td>
              <td>1.399.900,00€</td>
            </tr>
          
            <tr>
              <td><a href="/1/department.html">Budget des Bürgermeisters</a></td>
              <td>-6.172.000,00€</td>
              <td>-491.000,00€</td>
            </tr>
          
        </tbody>
      </table>
    </div>

    <p class="data-disclosure">
      Die Daten auf dieser Webseite beruhen auf dem Haushaltsplan der Stadt Wernigerode aus dem Jahr 2022.
			Da dieser Plan sehr umfangreich ist, muss ich die Daten automatisiert auslesen. Dieser Prozess ist nicht fehlerfrei
			und somit kann ich keine Garantie für die Richtigkeit geben. Schaut zur Kontrolle immer auf das Original, dass ihr
			hier findet: <a href="https://www.wernigerode.de/B%C3%BCrgerservice/Stadtrat/Haushaltsplan/">https://www.wernigerode.de/Bürgerservice/Stadtrat/Haushaltsplan/</a>
			<br><br>
			Die Budgets auf dieser Webseite ergeben sich aus dem Teilfinanzplan A und B und weichen damit vom Haushaltsplan ab, der
			nur Teilfinanzplan A Daten enthält.
    </p>

    <footer>
      <p>
        Daten und Code für diese Webseite findest du auf <a href="https://github.com/pheymann/paulheymann-website">Github</a>.
        Das Impression befindet sich <a href="/imprint.html">hier</a>.
      </p>
    </footer>

    <script>
      
        var incomeDepartmentLinks = ["/2/department.html"];
        var incomeCanvas = document.getElementById('chartjs-589ccae5-fdb6-428c-9472-4e5fbc173d08');
        var incomeChart = new Chart(incomeCanvas, {
          type: 'doughnut',
          data: {
            labels: ["Budget Finanzen"],
            datasets: [{
              label: 'Euro',
              data: [36189200],
              borderWidth: 1
            }]
          },
          options: {
            plugins: {
              legend: {
                display: false
              }
            },
            onClick: function(e){
              var activePoints = incomeChart.getElementsAtEventForMode(e, 'nearest', { intersect: true }, true);
              window.location.href = incomeDepartmentLinks[activePoints[0].index];
            },
          }
        });
      

      var expensesDepartmentLinks = ["/1/department.html","/3/department.html","/4/department.html"];
      var expensesCanvas = document.getElementById('chartjs-435f8cb5-74bb-4752-a4df-8578e82936d4');
      var expensesChart = new Chart(expensesCanvas, {
        type: 'doughnut',
        data: {
          labels: ["Budget des Bürgermeisters","Budget Betriebsbereiche","Budget Bürgerservice"],
          datasets: [{
            label: 'Euro',
            data: [-6663000,-6034500,-7168300],
            borderWidth: 1
          }]
        },
        options: {
          plugins: {
            legend: {
              display: false
            }
          },
          onClick: function(e){
            var activePoints = expensesChart.getElementsAtEventForMode(e, 'nearest', { intersect: true }, true);
            window.location.href = expensesDepartmentLinks[activePoints[0].index];
          },
        },
      });
    </script>
  </body>
</html>
